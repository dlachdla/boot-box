<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout/default}">
<head>
    <title>영화상세페이지</title>
    <!-- 사용자css -->
    <link rel="stylesheet" th:href="@{/css/movie/movieDetail.css}" />
</head>
<style layout:fragment="style"></style>

<div layout:fragment="content" class="flex justify-center">
    <div class="container">
        <div class="content">
            <!-- Home -->
            <main class="movie_home">
                <div class="line"></div>
                <!-- Movie information -->
                <div class="movie_info">

                    <div class="movie_info-left">
                        <h1 class="movie_title" th:text="${movie.title}">윙카</h1>
                        <div class="movie_rate">

<!--                            <th:block th:if="${movieData.avgReviewScore} == 5.0">-->
<!--                                <ul class="movie_stars">-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                            </th:block>-->
<!--                            <th:block th:if="${movieData.avgReviewScore} >= 4.0 and ${movieData.avgReviewScore} < 5.0">-->
<!--                                <ul class="movie_stars">-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                            </th:block>-->
<!--                            <th:block th:if="${movieData.avgReviewScore} >= 3.0 and ${movieData.avgReviewScore} < 4.0">-->
<!--                                <ul class="movie_stars">-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                            </th:block>-->
<!--                            <th:block th:if="${movieData.avgReviewScore} >= 2.0 and ${movieData.avgReviewScore} < 3.0">-->
<!--                                <ul class="movie_stars">-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                            </th:block>-->
<!--                            <th:block th:if="${movieData.avgReviewScore} >= 1.0 and ${movieData.avgReviewScore} < 2.0">-->
<!--                                <ul class="movie_stars">-->
<!--                                    <li class="movie_star rated">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                            </th:block>-->
<!--                            <th:block th:if="${movieData.avgReviewScore} >= 0.0 and ${movieData.avgReviewScore} < 1.0">-->
<!--                                <ul class="movie_stars">-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                    <li class="movie_star">-->
<!--                                        <i class="fa-solid fa-star"></i>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                            </th:block>-->
                            <div class="movie_comment" th:text="|평점 ${movie.voteAverage}%|"></div>
                        </div>
                        <div class="movie_infos">
                            개봉<span style="display:inline-block; width:5px;"></span>:<span style="display:inline-block; width:5px;"></span>
                            <span th:text="${movie.releaseDate}"></span>
                        </div>
                        <div class="flex">
                            장르 : <span style="margin-left:10px;"></span>
                            <span th:each="genreDetail, iterStat : ${movie.genreDetailDtos}">
                                <span th:text="${genreDetail.genreName}"></span>
                                <span th:if="${not iterStat.last}" style="margin-left:5px;margin-right:5px;">, </span>
                            </span>
                        </div>

                        <div class="movie_infos">
                            러닝타임<span style="display:inline-block; width:5px;"></span>:<span style="display:inline-block; width:5px;"></span>
                            <span th:text="|${movie.runtime} 분|"></span>
                        </div>
                        <div class="flex">
                            감독 : <span style="margin-left:10px;"></span>
                            <th:block th:each="directorDetail, iterStat : ${movie.directorDetailDtos}">
                                <span th:text="${directorDetail.directorName}"></span>
                            </th:block>
                        </div>
                        <div class="flex">
                            배우 : <span style="margin-left:10px;"></span>
                            <span  th:each="actorDetail, iterStat : ${movie.actorDetailDtos}">
                                <span th:utext="${actorDetail.actorName} + '&nbsp;'"></span>
                                <span th:if="${not iterStat.last}">, </span>
                            </span>
                        </div>

                        <div class="movie_infos">
                            등급<span style="display:inline-block; width:5px;"></span>:<span style="display:inline-block; width:5px;"></span>
                            <span th:text="${movie.filmRatings}"></span>
                        </div>

                        <div class="movie_des" th:text="${movie.overview}">
                            줄거리
                        </div>
                        <div class="movie_action">
                            <!--  임시 예매 페이지 이동 바로 좌석선택으로 넘어감   -->
                            <button class="movie_button" th:onclick="|location.href = '@{/reservation/reservationBooking.do}'|">예매하기</button>
                        </div>
                    </div>

                    <div class="movie_info-right">
                        <div class="movie_img">

                            <th:block th:if="${#strings.startsWith(movie.posterUrl, 'http://file.koreafilm.or.kr')}">
                                <img class="movie_img-item movie_img-first" th:src="${movie.posterUrl}">
                            </th:block>
                            <th:block th:if="${!#strings.startsWith(movie.posterUrl, 'http://file.koreafilm.or.kr')}">
                                <img class="movie_img-item movie_img-first" th:src="|https://image.tmdb.org/t/p/w200${movie.posterUrl}|" >
                            </th:block>

                        </div>
                    </div>
                </div>

                <div class="line"></div>
                <!-- trailer -->
                <div class="text-2xl">Trailer</div>

                <div class="line2"></div>

                <div class="trailer-container flex justify-center" style="overflow: hidden;">
                    <th:block th:if="${#strings.startsWith(movie.vodDetailDtos[0].vodUrl, 'https://www.kmdb.or.kr')}">
                        <video autoplay muted controls loop width="1300" height="450" style="margin-top: 20px;">
                            <source th:src="${movie.vodDetailDtos[0].vodUrl}" type="video/mp4">
                        </video>
                    </th:block>
                    <th:block th:if="${!#strings.startsWith(movie.vodDetailDtos[0].vodUrl, 'https://www.kmdb.or.kr')}">
                        <iframe th:src="|https://www.youtube.com/embed/${movie.vodDetailDtos[0].vodUrl}?autoplay=1&mute=1&controls=0&loop=1&playlist=${movie.vodDetailDtos[0].vodUrl}|" width="1300" height="450" title="YouTube video player" type="video/mp4" style="margin-top: 20px;">
                        </iframe>
                        </th:block>
                    </div>
                <div class="line2"></div>


                <div class="line"></div>
                <!-- review -->
                <div class="text-2xl">Review</div>

                <div class="line2"></div>

                <br>
<!--                <div th:each="review, status : ${movieData.reviews}">-->
<!--                    <figure class="">-->
<!--                        <th:block th:if="${review.reviewScore} == 5.0">-->
<!--                            <ul class="movie_stars">-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                            </ul>-->
<!--                        </th:block>-->
<!--                        <th:block th:if="${review.reviewScore} >= 4.0 and ${review.reviewScore} < 5.0">-->
<!--                            <ul class="movie_stars">-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                            </ul>-->
<!--                        </th:block>-->
<!--                        <th:block th:if="${review.reviewScore} >= 3.0 and ${review.reviewScore} < 4.0">-->
<!--                            <ul class="movie_stars">-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                            </ul>-->
<!--                        </th:block>-->
<!--                        <th:block th:if="${review.reviewScore} >= 2.0 and ${review.reviewScore} < 3.0">-->
<!--                            <ul class="movie_stars">-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                            </ul>-->
<!--                        </th:block>-->
<!--                        <th:block th:if="${review.reviewScore} >= 1.0 and ${review.reviewScore} < 2.0">-->
<!--                            <ul class="movie_stars">-->
<!--                                <li class="movie_star rated">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                            </ul>-->
<!--                        </th:block>-->
<!--                        <th:block th:if="${review.reviewScore} >= 0.0 and ${review.reviewScore} < 1.0">-->
<!--                            <ul class="movie_stars">-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                                <li class="movie_star">-->
<!--                                    <i class="fa-solid fa-star"></i>-->
<!--                                </li>-->
<!--                            </ul>-->
<!--                        </th:block>-->
<!--                        <blockquote class="shadow-2xl shadow-red-100/50">-->
<!--                                <p class="m-2 text-xl font-semibold text-white dark:text-white" th:text="${review.reviewDetail}">"Flowbite is just awesome. It contains tons of predesigned components and pages starting from login screen to complex dashboard. Perfect choice for your next SaaS application."</p>-->
<!--                                <figcaption class="mx-2 flex items-center mt-6 space-x-3 rtl:space-x-reverse">-->
<!--                                    <img class="w-6 h-6 rounded-full" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSokjeTAtRKHg0qff0jJb9jRcB9_MGXYOrulw&usqp=CAU" alt="profile picture">-->
<!--                                    <div class="flex items-center divide-x-2 rtl:divide-x-reverse divide-gray-300 dark:divide-gray-700">-->
<!--                                        <cite class="pe-3 font-medium text-white" th:text="${review.member.memberName}">UserName</cite>-->
<!--                                        <cite class="ps-3 text-sm text-gray-500 dark:text-gray-400" th:text="${review.member.memberLoginId}">ID</cite>-->
<!--                                    </div>-->
<!--                                </figcaption>-->
<!--                            <div class="createAt">-->
<!--                                <cite class="ps-3 text-sm text-gray-500 dark:text-gray-400 " th:text="|${#temporals.format(review.reviewCreatedAt, 'yyyy/MM/dd HH:mm')}|">date</cite>-->
<!--                            </div>-->
<!--                        </blockquote>-->
<!--                    </figure>-->
<!--                </div>-->
            </main>
        </div>
    </div>
</div>
<script layout:fragment="script"></script>
</html>